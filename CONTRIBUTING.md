# Contributing to Nexus Platform

Nexus Platformへのコントリビューションにご興味をお持ちいただき、ありがとうございます！

## 目次

1. [はじめに](#はじめに)
2. [開発環境のセットアップ](#開発環境のセットアップ)
3. [コントリビューションの流れ](#コントリビューションの流れ)
4. [Issue の作成](#issue-の作成)
5. [Pull Request の作成](#pull-request-の作成)
6. [コーディング規約](#コーディング規約)
7. [テスト](#テスト)
8. [コミットメッセージ](#コミットメッセージ)
9. [リリースプロセス](#リリースプロセス)

## はじめに

このプロジェクトは以下の方針でコントリビューションを受け付けています：

- **オープンで建設的な議論** を重視します
- **品質とセキュリティ** を最優先します
- **ユーザー体験の向上** を目指します
- **技術的負債の削減** に積極的に取り組みます

## 開発環境のセットアップ

### 必要な環境

- Node.js 18+
- npm 8+
- Git

### セットアップ手順

```bash
# リポジトリをクローン
git clone https://github.com/your-org/nexus-platform.git
cd nexus-platform

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev

# テストを実行
npm test
```

### 環境変数

開発に必要な環境変数は `.env.example` を参考に `.env.local` を作成してください。

## コントリビューションの流れ

1. **Issue の確認・作成**
   - 既存の Issue を確認し、重複がないかチェック
   - 新しい問題や機能提案がある場合は Issue を作成

2. **ブランチの作成**

   ```bash
   git checkout -b feature/your-feature-name
   # または
   git checkout -b fix/your-bug-fix
   ```

3. **開発・テスト**
   - コードの実装
   - テストの追加・修正
   - ローカルでの動作確認

4. **Pull Request の作成**
   - 変更内容を分かりやすく説明
   - 関連する Issue をリンク
   - レビューを待つ

5. **レビュー・マージ**
   - メンテナーによるコードレビュー
   - 必要に応じて修正
   - 承認後にマージ

## Issue の作成

Issue は以下のテンプレートを使用して作成してください：

### バグレポート

- **現象**: 何が起きているか
- **期待される動作**: 何が起きるべきか
- **再現手順**: どうすれば再現できるか
- **環境**: ブラウザ、OS等の情報

### 機能要件・改善提案

- **背景**: なぜこの機能が必要か
- **提案内容**: 具体的にどのような機能・改善か
- **受け入れ基準**: 完了の定義
- **影響範囲**: 既存機能への影響

## Pull Request の作成

### PR の作成前チェックリスト

- [ ] 関連する Issue が存在するか
- [ ] ブランチ名が適切か (`feature/`, `fix/`, `docs/` 等)
- [ ] テストが通るか (`npm test`)
- [ ] リントエラーがないか (`npm run lint`)
- [ ] 型チェックが通るか (`npm run type-check`)
- [ ] ビルドが成功するか (`npm run build`)

### PR テンプレート

PR作成時は自動で表示されるテンプレートに従って記入してください。特に以下の点を明記：

- **変更内容の概要**
- **テスト内容**
- **破壊的変更の有無**
- **スクリーンショット** (UI変更がある場合)

## コーディング規約

### TypeScript/JavaScript

- **ESLint**: 設定済みのルールに従う
- **Prettier**: コードフォーマッターを使用
- **型安全性**: TypeScriptの型を適切に定義
- **命名規則**:
  - 変数・関数: camelCase
  - 定数: UPPER_SNAKE_CASE
  - コンポーネント: PascalCase

### React/Next.js

- **関数コンポーネント**: クラスコンポーネントは使用しない
- **Hooks**: 適切にHooksを使用
- **ファイル構造**: 機能ごとにディレクトリを分ける
- **CSS**: Tailwind CSS を使用

### コミット規約

以下のフォーマットでコミットメッセージを作成：

```
<type>(<scope>): <subject>

<body>

<footer>
```

#### Type

- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメント
- `style`: コードスタイル
- `refactor`: リファクタリング
- `test`: テスト
- `chore`: その他

#### 例

```
feat(auth): add user authentication

- Add login/logout functionality
- Implement JWT token handling
- Add user session management

Closes #123
```

## テスト

### テスト戦略

- **Unit Test**: 個別の関数・コンポーネント
- **Integration Test**: 複数コンポーネントの連携
- **E2E Test**: ユーザーシナリオ全体

### テストツール

- **Jest**: ユニットテスト
- **React Testing Library**: Reactコンポーネント
- **Playwright**: E2Eテスト

### テスト実行

```bash
# 全テスト実行
npm test

# ウォッチモード
npm run test:watch

# カバレッジ確認
npm run test:coverage

# E2Eテスト
npm run test:e2e
```

## ドキュメント

### ドキュメントの種類

- **README**: プロジェクト概要
- **API Documentation**: API仕様
- **Component Documentation**: コンポーネント仕様
- **Deployment Guide**: デプロイ手順

### ドキュメント更新

コードの変更に伴い、関連ドキュメントも必ず更新してください。

## セキュリティ

### セキュリティ問題の報告

セキュリティに関する問題を発見した場合は、公開のIssueではなく、メンテナーに直接連絡してください。

### セキュリティベストプラクティス

- **機密情報**: コードに直接書かない
- **依存関係**: 定期的にアップデート
- **入力検証**: 適切にバリデーション
- **認証・認可**: セキュアに実装

## コードレビュー

### レビューのポイント

- **機能**: 要求通りに動作するか
- **パフォーマンス**: 性能面で問題ないか
- **セキュリティ**: セキュリティリスクはないか
- **保守性**: 理解しやすく修正しやすいか
- **テスト**: 適切にテストされているか

### レビューのエチケット

- **建設的**: 改善につながるフィードバック
- **具体的**: 具体的な改善提案
- **丁寧**: 敬意を持った言葉遣い
- **迅速**: 可能な限り早いレスポンス

## リリースプロセス

### バージョニング

[Semantic Versioning](https://semver.org/) に従います：

- **MAJOR**: 破壊的変更
- **MINOR**: 後方互換性のある機能追加
- **PATCH**: 後方互換性のあるバグ修正

### リリース手順

1. **機能の完了**: 予定された機能が完了
2. **テスト**: 全テストの通過確認
3. **ドキュメント**: リリースノートの準備
4. **タグ作成**: Gitタグの作成
5. **デプロイ**: 本番環境へのデプロイ

## サポート

### 質問・相談

- **GitHub Discussions**: 一般的な質問や議論
- **Issue**: バグ報告や機能提案
- **メール**: セキュリティ関連やプライベートな相談

### 貢献者の認定

継続的に貢献いただいた方には、リポジトリへの書き込み権限を付与する場合があります。

---

## お問い合わせ

何かご不明な点がございましたら、以下の方法でお気軽にお問い合わせください：

- GitHub Issues: バグ報告・機能提案
- GitHub Discussions: 一般的な質問・議論
- Email: security@example.com (セキュリティ関連)

皆様のご協力をお待ちしております！
